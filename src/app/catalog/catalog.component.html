<div class="catalog-container">
  <h2>Product Catalog</h2>

  <div class="controls">
    <label>Category:</label>
    <select [(ngModel)]="selectedCategory" (change)="onCategoryChange()">
      <option value="All">All</option>
      <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
    </select>

    <label>
      <input
        type="checkbox"
        [(ngModel)]="sortPopular"
        (change)="toggleSort()"
      />
      Sort by Popularity
    </label>
  </div>

  <div class="product-grid">
    <div class="product-card" *ngFor="let product of filtered">
      <img [src]="product.image" alt="{{ product.name }}" />
      <h3>{{ product.name }}</h3>
      <p>{{ product.description }}</p>
      <p><strong>Price:</strong> ${{ product.price }}</p>
      <p><strong>In Stock:</strong> {{ product.quantity }}</p>

      <button (click)="addToCart(product)" [disabled]="product.quantity <= 0">
        Add to Cart
      </button>
      <button (click)="buyNow(product)" [disabled]="product.quantity <= 0">
        Buy Now
      </button>
    </div>
  </div>
</div>
