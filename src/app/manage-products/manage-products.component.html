<div class="manage-container">
  <h2>Manage Products</h2>

  <div class="search-bar">
    <input
      type="text"
      placeholder="üîç Search by Category"
      [(ngModel)]="searchCategory"
    />
    <button (click)="searchByCategory()">Search</button>
    <button (click)="loadProducts()">Reset</button>
    <button (click)="addProduct()">‚ûï Add Product</button>
  </div>

  <div class="product-list">
    <div class="product-card" *ngFor="let product of products">
      <img [src]="product.image" alt="{{ product.name }}" />
      <h3>{{ product.name }}</h3>
      <p>{{ product.description }}</p>
      <p><strong>Quantity:</strong> {{ product.quantity }}</p>
      <p><strong>Price:</strong> ${{ product.price }}</p>
      <p><strong>Category:</strong> {{ product.category }}</p>

      <!-- ‚úÖ Warning message and update button if quantity < minQuantity -->
      <div *ngIf="product.quantity < product.minQuantity" class="low-stock">
        ‚ö†Ô∏è <strong>Stock is low</strong> (Minimum is {{ product.minQuantity }})
        <button (click)="increaseQuantity(product)">Add 10</button>
      </div>

      <div class="buttons">
        <button (click)="editProduct(product)">‚úèÔ∏è Edit</button>
        <button (click)="deleteProduct(product.id)">üóëÔ∏è Delete</button>
      </div>
    </div>
  </div>
</div>
